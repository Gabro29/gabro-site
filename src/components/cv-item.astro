---
interface Props {
    title: string;
    subtitle?: string;
    date?: string;
    grade?: string;
    description?: string | string[];
    techStack?: string[];
}

const { title, subtitle, date, grade, description, techStack } = Astro.props;
---

<div
    class="group py-8 first:pt-0 border-b border-gray-100 dark:border-gray-900/50 last:border-0 md:grid md:grid-cols-[140px_1fr] md:gap-8 align-baseline"
>
    <!-- Left Column: Date -->
    <div class="mb-2 md:mb-0 shrink-0">
        {
            date && (
                <span class="text-xs font-mono text-gray-500 uppercase tracking-wider block pt-1.5">
                    {date}
                </span>
            )
        }
    </div>

    <!-- Right Column: Content -->
    <div class="flex flex-col">
        <h3 class="text-xl font-bold text-gray-900 dark:text-gray-100 mb-1">
            {title}
        </h3>

        {
            subtitle && (
                <span class="text-blue-600 dark:text-blue-400 font-medium text-base mb-3 block">
                    {subtitle}
                </span>
            )
        }

        {
            grade && (
                <span class="text-green-600 dark:text-green-500 font-medium text-sm mb-3 block">
                    {grade}
                </span>
            )
        }

        {
            description &&
                (Array.isArray(description) ? (
                    <ul class="list-disc list-outside ml-4 space-y-2 mb-4 text-gray-600 dark:text-gray-400 text-sm leading-relaxed">
                        {description.map((item) => (
                            <li>{item}</li>
                        ))}
                    </ul>
                ) : (
                    <p class="text-gray-600 dark:text-gray-400 mb-4 text-sm leading-relaxed">
                        {description}
                    </p>
                ))
        }

        {
            techStack && (
                <div class="flex flex-wrap gap-2 mt-auto">
                    {techStack.map((tech) => (
                        <span class="px-2.5 py-1 bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-300 text-xs font-medium rounded-md border border-gray-200 dark:border-gray-700/50">
                            {tech}
                        </span>
                    ))}
                </div>
            )
        }
    </div>
</div>
